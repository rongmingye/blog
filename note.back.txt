ub: root @ad14722 658277 
mq: root root 

本地服务器 放到 阿里云 上线：
	server.js： 改端口，ip(0.0.0.0)
	mysql.js: 改host的ip(0.0.0.0)
	重定向：res.redirect('http://39.108.97.182/index.html');
	get/post的url: 'http://39.108.97.182/index_type_post', 将localhost 改成 ip地址和端口

ubuntu
	项目位置 /usr/project-y/blog-a
	数据库databases的位置 /var/lib/mysql/blog

	指令
	    删除文件 
	    	rm -i a* -r 删除以a开头的文件 确认y

	    新建目录
	    	mkdir mysql 在当前文件夹新建mysql目录

	    去到指定目录
	    	cd /usr/project-y/blog-a

	    解压 tar 文件名.tar

	    vi/vim 编辑器
	    	命令模式 输入模式 底线命令模式
	    	命令模式：i 进入输入模式; : 进入底线命令模式
	    	输入模式+esc 退出输入模式，返回命令模式


	    	:wq :x ZZ保存退出
	    	:q! 不保存强制退出
	    	:q 不保存退出

	    vim /etc/hosts 编辑hostname

    ssh
	    ssh localhost 查看是否已经安装了ssh服务
	    sudo apt-get purge openssh-server 卸载ssh服务
	    sudo apt-get install openssh-server 安装服务
	   	sudo /etc/init.d/ssh start 启动服务
	   	sudo -e|grep ssh 查看是否正确启动ssh服务 有则sshd
    	
nodejs安装
	方法一：直接安装在系统环境/usr/bin目录下，之后使用npm -g安装其他插件也会安装到
			/usr/lib/node_modules
		curl -sL https://deb.nodesource.com/setup_8.x | sudo -E bash -
		sudo apt-get install -y nodejs

	方法二  将nodejs路径链接到/usr/local/bin目录下，
	    	则每次npm -g安装插件都会安装在nodejs原路径下的node_modules(安装时的路径)，
 			每次代码中引用插件也需要到此目录下去找
		wegt http://nodejs.org/dist/v8.9.4/node-v8.9.4-linux-x64.tar.xz 下载压缩包
		tar xvf node-v8.9.4-linux-x64.tar.xz 解压
		cd node-v8.9.4-linux-x64/bin 切换当前路径
		pwd

	方法三：
		也可以使用ubuntu自带apt-get安装,安装后使用node -v查看版本
		sudo apt-get install nodejs-legacy nodejs
		sudo apt-get install npm

mysql 

	数据库上传到阿里云linux
		1 在phpmysql里 输出数据库
		2 把数据库放到 阿里云ubuntu
		3 进入数据库 source /var/lib/mysql/blog.sql 让mysql找到该数据库

    mysql安装
	    安装 sudo apt-get install mysql-server 系统自动安装 输入两次密码root
		
		卸载  sudo apt purge mysql-* 
			  sudo rm -rf /etc/mysql/ 和 /var/lib/mysql
			  sudo apt autoremove
			  sudo apt autoreclean

	mysql操作
		登陆 mysql -uroot -proot
		选择某个字段的值的数据
			select * from article where type = 'react';

		linux查看数据库版本 mysql -v

		修改密码
			#1.停止mysql数据库
			/etc/init.d/mysql stop
			 
			#2.执行如下命令 用来跳过密码验证的过程
			mysqld_safe --user=mysql --skip-grant-tables --skip-networking &
			 
			#3.使用root登录mysql数据库
			mysql -u root -p
			 
			#4.更新root密码
			mysql> UPDATE user SET authentication_string=PASSWORD('newpassword') where USER='root';
			 
			#5.刷新权限 
			mysql> FLUSH PRIVILEGES;
			 
			#6.退出mysql
			mysql> quit
			 
			#7.重启mysql
			/etc/init.d/mysql restart


远程连接
	xshell ：远程连接命令行
		端口22 ip39.108.97.192 账号root 密码root // 注意ubuntu的安全规则，配置相应的端口号
		连接不上22端口
			1  服务器安全组要设置22端口
			2  ssh服务问题

	xftp ：上传文件
	  	端口22 sftp ip39.108.97.192 账号root 密码root  //注意是sftp

电脑连接
	1 两台电脑连同一个wifi
	2 让电脑在局域网被发现：改变共享中心的公网发现 和 密码保护 （网络 -> 共享中心）
	3 让某些文件夹共享  其他电脑可以看到的文件夹

	arp -a 看到局域网内所有ip
	ipconfig 查看我的ip
	ping ip  //连通该ip的电脑

bug:

	没有数据发送的时候data=null, contentType不用写charset=utf8
		有数据发送的时候contentType要写charset=utf8

	更改数据库文件要重启服务器和mysql 
		//  阿里云重启实例 和 /etc/init.d/mysql restart

	储存到数据库的文章的空格和换行要转换成html认识的&nbsp <br/>
		.replace(/ /g, "&nbsp").replace(/\r\n/g, "<br/>");

	Error: connect ECONNREFUSED 127.0.0.1:3306 // 在mysql的安装目录下的bin目录运行mysql.exe

	mysql表查询不了
		数据库放上阿里云的方式不对
		time字段锁住, time字段的null属性设为yes
		内部文件损失 重装mysql

	ssh访问不了，服务器22端口有问题/ 或者配置文件有问题


